[["u","t","write a c# function that does this"],["a","t","Here's a C# function to calculate RGB values from a given temperature in Kelvin based on the approximation I provided:\n\npublic static (int R, int G, int B) TemperatureToRgb(double temperature)\n{\n    double r, g, b;\n\n    \/\/ Red\n    if (temperature <= 6500)\n    {\n        r = 255;\n    }\n    else\n    {\n        r = 329.698727446 * Math.Pow(temperature \/ 1000 - 6, -0.1332047592);\n    }\n\n    \/\/ Green\n    if (temperature <= 6500)\n    {\n        g = 99.4708025861 * Math.Log(temperature \/ 1000) - 161.1195681661;\n    }\n    else\n    {\n        g = 288.1221695283 * Math.Pow(temperature \/ 1000 - 6, -0.0755148492);\n    }\n\n    \/\/ Blue\n    if (temperature <= 1900)\n    {\n        b = 0;\n    }\n    else if (temperature <= 6500)\n    {\n        b = 138.5177312231 * Math.Log((temperature \/ 1000) - 1.9) - 305.0447927307;\n    }\n    else\n    {\n        b = 255;\n    }\n\n    \/\/ Clamp values to 0-255 range and convert to integers\n    int red = (int)Math.Round(Math.Max(0, Math.Min(255, r)));\n    int green = (int)Math.Round(Math.Max(0, Math.Min(255, g)));\n    int blue = (int)Math.Round(Math.Max(0, Math.Min(255, b)));\n\n    return (red, green, blue);\n}\n\nYou can use this function like this:\n\nvar (r, g, b) = TemperatureToRgb(6500);\nConsole.WriteLine($\"R: {r}, G: {g}, B: {b}\");\n\nThis will return RGB values for a given temperature in Kelvin. The function handles the calculations and ensures the output is within the valid RGB range (0-255). Let me know if you need help integrating it or testing specific values."]]